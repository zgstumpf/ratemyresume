{% extends 'base.html' %}

{% load static %}
{% block pageSpecificStaticFiles %}
    <link rel="stylesheet" type="text/css" href="{% static 'resumes/index.css' %}">
    <script src="{% static 'resumes/index.js' %}"></script>
    <script src="{% static 'resume_card.js' %}"></script>
{% endblock %}

{% block content %}

{% if not user.is_authenticated %}
    <div>TODO: some promotional content for the site here</div>
{% endif %}

<h1 class="page-header">Resumes</h1>

<h2 class="sub-header">New</h2>
{% if new_resumes %}
    <div class="resume-card-container">
        {% for resume in new_resumes %}
            {% include 'resume_card.html' with resume_id=resume.id user_id=resume.user.id user=resume.user resume_name=resume.name hasUserRated=resume.hasUserRated created_at=resume.created_at %}
        {% endfor %}
    </div>
{% else %}
<!-- Why does it say no resumes are available when I log out? -->
    <p>No resumes are available.</p>
{% endif %}

<h2 class="sub-header">Highest Rated</h2>
{% if highest_rated_resumes %}
    <div class="resume-card-container">
        {% for resume in highest_rated_resumes %}
            {% include 'resume_card.html' with resume_id=resume.id user_id=resume.user.id user=resume.user resume_name=resume.name hasUserRated=resume.hasUserRated created_at=resume.created_at %}
        {% endfor %}
    </div>
{% else %}
<!-- Why does it say no resumes are available when I log out? -->
    <p>No resumes are available.</p>
{% endif %}

<h2 class="sub-header">Unrated</h2>
{% if unrated_resumes %}
    <div class="resume-card-container">
        {% for resume in unrated_resumes %}
            {% include 'resume_card.html' with resume_id=resume.id user_id=resume.user.id user=resume.user resume_name=resume.name hasUserRated=resume.hasUserRated created_at=resume.created_at %}
        {% endfor %}
    </div>
{% else %}
<!-- Why does it say no resumes are available when I log out? -->
    <p>No resumes are available.</p>
{% endif %}


{% endblock %}