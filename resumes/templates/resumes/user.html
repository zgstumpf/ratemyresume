{% extends 'base.html' %}

{% load static %}
{% block pageSpecificStaticFiles %}
    <link rel="stylesheet" type="text/css" href="{% static 'resumes/user.css' %}">
    <script src="{% static 'resumes/user.js' %}"></script>
{% endblock %}

{% block content %}
{% if isUserHome %}
<p>Hello, {{user}}!</p>
{% else %}
<p>You are viewing {{ thisPageUsername }}'s resumes</p>
{% endif%}



{% if resumes %}
<div class="table-container">
<table>
    <thead>
        <tr>
        <th>Name</th>
        <th>Rating</th>
        <th>Ratings</th>
        <th>Comments</th>
        <th>Uploaded</th>
        <th></th> <!-- Abilities column -->
        </tr>
    </thead>
    <tbody>
        {% for resume in resumes %}
        <tr>
        <td>
            <a class="resume-name-in-table" href="{% url 'details' resume_id=resume.id %}">{{ resume.name }}
                <img class="resume-image-preview" src="{{ resume.imageData }}">
            </a>
        </td>

        {% if resume.avgRating %}
        <td>{{ resume.avgRating }} / 10</td>
        {% else %}
        <td>--</td>
        {% endif %}
        <td>{{ resume.numRatings }}</td>
        <td>{{ resume.numComments }}</td>
        <td>{{ resume.created_at }}</td>
        <td><a href="{% url 'view_pdf' resume.id %}" target="_blank">Open in fullscreen</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
{% else %}
<p>{{ thisPageUsername }} has no resumes</p>
{% endif %}

{% endblock %}